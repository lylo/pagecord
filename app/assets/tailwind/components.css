@layer components {
  /* ---- APP COMPONENTS ---- */

  .btn-primary {
    @apply text-sm inline-flex items-center px-4 py-2 font-medium text-center text-white bg-[#4fbd9c] rounded-lg hover:bg-[#4bb193] focus:ring-4 focus:outline-none focus:ring-pagecord-accent/30 cursor-pointer;
  }

  .btn-optional {
    @apply text-sm inline-flex items-center px-4 py-2 font-medium text-center text-slate-800 dark:text-slate-100 border border-slate-200 dark:border-slate-700 rounded-lg hover:bg-slate-50 focus:ring-4 focus:outline-none focus:ring-slate-300 dark:hover:bg-slate-800 dark:focus:ring-slate-800 cursor-pointer;
  }

  .btn-secondary {
    @apply text-sm inline-flex items-center px-4 py-2 font-medium text-center text-slate-800 dark:text-slate-100 bg-slate-200 dark:bg-slate-600 rounded-lg hover:bg-slate-300 dark:hover:bg-slate-500 cursor-pointer;
  }

  .btn-danger {
    @apply text-sm inline-flex items-center px-4 py-2 font-medium text-center text-slate-800 hover:text-white dark:text-slate-100 bg-slate-200 rounded-lg hover:bg-red-500 focus:ring-4 focus:outline-none focus:ring-slate-300 dark:bg-slate-600 dark:hover:bg-red-700 dark:focus:ring-slate-800 cursor-pointer;
  }

  .form-field {
    @apply dark:bg-slate-900 text-slate-800 dark:text-slate-200 rounded-lg focus:outline-none focus:ring-0 focus:border-slate-500 dark:focus:border-slate-400 border-slate-300 dark:border-slate-700;
  }

  /* Native auto-growing textarea (Chrome 123+, Safari 17.4+, Edge 123+) */
  .autogrow {
    field-sizing: content;
  }

  /* Field error handling with :has() */
  fieldset {
    @apply border-0 p-0 m-0;
  }

  fieldset:has(.field-error:not(:empty)) input,
  fieldset:has(.field-error:not(:empty)) textarea,
  fieldset:has(.field-error:not(:empty)) select,
  fieldset:has(.field-error:not(:empty)) trix-editor,
  fieldset:has(.field-error:not(:empty)) lexxy-editor {
    @apply !border-red-500;
  }

  .field-error:not(:empty) {
    @apply mt-1 text-sm text-red-500;
  }

  dialog::backdrop {
    backdrop-filter: blur(2px);
  }

  dialog[open] {
    animation: modal-open 150ms ease-out;
  }

  @keyframes modal-open {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  /* Home page components */
  .home-link {
    @apply underline decoration-pagecord-accent decoration-2 font-medium hover:bg-pagecord-accent/10 transition-all duration-200 rounded;
  }

  /* Override prose styles for home-link */
  .prose .home-link {
    @apply !text-current !underline !decoration-pagecord-accent !decoration-2 !font-medium hover:!bg-pagecord-accent/10 !transition-all !duration-200 !rounded;
  }

}
