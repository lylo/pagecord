<div class="mx-auto max-w-2xl w-full text-slate-950 dark:text-slate-50">
  <div class="my-8">
    <div class="mb-8">
      <% if @pages.empty? && @drafts.empty? %>
        <div>
          <p>
            Create your first page! ✨
          </p>
          <p class="mt-4 break-words">
            Pages are perfect for an About or Contact page. Add them to your blog's navigation from Settings → Navigation.
          </p>
          <div class="mt-4 flex gap-2">
            <%= link_to "✏️ New Page", new_app_page_path, class: "btn-primary", title: "Create a new page" %>
            <% unless @blog.has_custom_home_page? %>
              <%= link_to "🏠 Create Home Page", new_app_home_page_path, class: "btn-secondary", title: "Create a blank home page" %>
            <% end %>
          </div>
        </div>
      <% else %>
        <div class="text-end mb-8 flex gap-2 justify-end">
          <% unless @blog.has_custom_home_page? %>
            <%= link_to "🏠 Create Home Page", new_app_home_page_path, class: "btn-secondary", title: "Create a blank home page" %>
          <% end %>
          <%= link_to "✏️ New Page", new_app_page_path, class: "btn-primary", title: "Create a new page" %>
        </div>
      <% end %>
    </div>

    <% if @drafts.any? %>
      <div class="mb-8" id="draft_pages">
        <div class="text-lg font-semibold mb-4 text-slate-900 dark:text-slate-100">
          🖋️ Drafts
        </div>

        <% @drafts.each do |page| %>
          <div class="flex gap-x-2 mb-2 items-top">
            <div class="flex w-full justify-start items-top">
              <% if page.home_page? %>
                <span class="mr-1">🏠</span>
              <% end %>
              <% edit_path = (page.home_page? ? edit_app_home_page_path : edit_app_page_path(page)) %>

              <%= link_to edit_path, title: "Click to edit this page" do %>
                <div class="font-medium pe-2 hover:underline">
                  <%= page.display_title %>
                </div>
              <% end %>
            </div>
          </div>
        <% end %>
      </div>
    <% end %>

    <% if @pages.any? %>
      <div class="text-lg font-semibold mb-4 text-slate-900 dark:text-slate-100 <%= 'mt-8' if @drafts.any? %>">
        📄 Pages
      </div>

      <% @pages.each do |page| %>
        <div class="flex gap-x-2 mb-2 items-top">
          <div class="flex w-full justify-between items-top">
            <div class="flex justify-start items-top">
              <% if page.home_page? %>
                <span title="This page is your home page" class="mr-1">🏠</span>
              <% end %>

              <% edit_path = page.home_page? ? edit_app_home_page_path : edit_app_page_path(page) %>
              <%= link_to edit_path, title: "Click to edit this page" do %>
                <div class="font-medium pe-2 hover:underline">
                  <%= page.display_title %>
                </div>
              <% end %>
            </div>
            <div class="flex items-top gap-x-4 text-slate-400 dark:text-slate-400">
              <%= link_to post_url(page), title: "View this page" do %>
                <%= inline_svg_tag "icons/arrow-top-right-on-square.svg", class: "w-5 h-5" %>
              <% end %>
            </div>
          </div>
        </div>
      <% end %>
    <% end %>
  </div>
</div>
