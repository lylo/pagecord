<% if @drafts.any? %>
  <div class="mb-8" id="draft_posts">
    <div class="text-lg font-semibold mb-4 text-slate-900 dark:text-slate-100">
      üñãÔ∏è Drafts
    </div>

    <% @drafts.each do |post| %>
      <%= render "post", post: post, show_year: true %>
    <% end %>

    <div class="w-1/2 mx-auto border-b border-slate-200 dark:border-slate-700 my-8"></div>
  </div>
<% end %>

<% if @search_term.present? && @posts.empty? && @drafts.empty? %>
  <div class="text-center">
    <p>
      No posts found for "<%= @search_term %>"
    </p>
  </div>
<% else %>
  <% previous_year = nil %>
  <% @posts.each do |post| %>
    <% if post.published_at.year != previous_year %>
      <div class="text-lg font-semibold mb-4 text-slate-900 dark:text-slate-100 <%= 'mt-8' unless previous_year.nil? %>">
        <%= post.published_at.year %>

        <% previous_year = post.published_at.year %>
      </div>
    <% end %>

    <%= render "post", post: post %>
  <% end %>
<% end %>