<div class="post-card">
  <%= link_to post_path(post), class: "post-card-link", data: { turbo_frame: "_top" } do %>
    <article class="post-card-content">
      <% if post.title.present? %>
        <h2 class="post-card-title">
          <%= post.title %>
        </h2>
      <% end %>

      <div class="post-card-summary">
        <% if post.has_text_content? %>
          <%= post.summary(limit: 324) %>
        <% elsif post.first_image.present? %>
          <%= image_tag resized_image_url(post.first_image, width: 1600, height: 1200), alt: post.display_title %>
        <% else %>
          <%= post.content.to_plain_text %>
        <% end %>
      </div>

      <%= render "tags", post: post if post.tag_list.present? %>

      <div class="post-card-meta <%= post.tag_list.present? ? 'has-tags' : 'no-tags' %>">
        <time class="post-card-date" datetime="<%= post.published_at.iso8601 %>">
          <%= local_time post.published_at, format: published_at_date_format %>
        </time>
        <span class="post-card-badge">
          <%= t('posts.read_more') %>
        </span>
      </div>
    </article>
  <% end %>
</div>
